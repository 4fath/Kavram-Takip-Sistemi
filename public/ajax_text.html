<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script>
        var mainTopicArray;
        var subTopicArray;
        $(document).ready(function () {

            var myMainTopics;
            var mySubTopics;
            var myKeywords;

            $.get("http://localhost:3000/topic/getValueArray", function (data, status) {
                var returnedData = JSON.parse(data);
                myMainTopics = returnedData.mainTopics;
                mySubTopics = returnedData.subTopics;
                myKeywords = returnedData.keywords;

                alert("Data: " + returnedData.chocolates[0].value + "\nStatus: " + status);
            });


            //If parent option is changed
            $("#parent_selection").change(function () {
                var parent = $(this).val(); //get option value from parent

                switch (parent) { //using switch compare selected option and populate child
                    case 'chocolates':
                        list(chocolates);
                        break;
                    case 'vegetables':
                        list(vegetables);
                        break;
                    case 'icecreams':
                        list(icecreams);
                        break;
                    default: //default child option is blank
                        $("#child_selection").html('');
                        break;
                }
            });

            //function to populate child select box
            function list(array_list) {
                $("#child_selection").html(""); //reset child options
                var selectedMain = $('parent_selection').val();
                console.log(selectedMain);
                $(array_list).each(function (i) { //populate child options
                    if (selectedMain._id == array_list[i]._id) {
                        $("#child_selection").append("<option value=\"" + array_list[i].value + "\">" + array_list[i].display + "</option>");
                    }

                });
            }


        });
    </script>
</head>
<body>

<div class="wrapper">
    Category : <select name="parent_selection" id="parent_selection">
    <option value="">-- Please Select --</option>
    <option value="chocolates">Chocolates</option>
    <option value="vegetables">Vegetables</option>
    <option value="icecreams">Ice cream</option>
</select>

    <select name="child_selection" id="child_selection">
    </select>

    <select name="child_selection1" id="child_selection1">
    </select>
</div>

</body>
</html>
